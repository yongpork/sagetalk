# 🏠 SageTalk 프로젝트 구조 완전 설명서

> **작성일**: 2025년 9월 21일  
> **대상**: 고등학생 ~ 초보 개발자  
> **목적**: 컴퓨터 파일, GitHub, Vercel, 웹사이트의 관계를 쉽게 이해하기

---

## 🎯 전체 구조 한눈에 보기

```
🏠 내 컴퓨터 (로컬)
    ↓ (코드 작성, 수정)
📁 /Users/markit/Documents/SageTalk/
    ↓ (git push)
☁️ GitHub (코드 저장소)
    ↓ (자동 배포)
🚀 Vercel (웹 호스팅 서비스)
    ↓ (웹사이트 제공)
🌐 사용자들이 접속하는 웹사이트
```

**쉽게 말하면:**
- **내 컴퓨터** = 작업실 (코드를 만드는 곳)
- **GitHub** = 도서관 (코드를 보관하는 곳)
- **Vercel** = 상점 (웹사이트를 판매하는 곳)
- **웹사이트** = 고객이 보는 상품

---

## 📂 1. 내 컴퓨터에 있는 파일들

### 🏠 로컬 파일 구조
```
/Users/markit/Documents/SageTalk/
├── 📁 websagechat/          ← 실제 웹사이트 코드
│   ├── 📁 src/
│   │   ├── 📁 app/
│   │   │   ├── 📁 api/      ← 백엔드 API (서버 기능)
│   │   │   └── 📁 chat/     ← 채팅 페이지
│   │   └── 📁 components/   ← 재사용 가능한 UI 컴포넌트
│   ├── 📄 package.json      ← 프로젝트 설정 파일
│   └── 📄 next.config.ts    ← Next.js 설정
├── 📁 Conversation/         ← 대화 기록 저장
├── 📁 mentors/             ← 멘토 정보
├── 📄 README.md            ← 프로젝트 설명서
└── 📄 GitHub_Vercel_Troubleshooting_Guide.md ← 문제 해결 가이드
```

### 🤔 왜 이렇게 나누어 놨을까?

**비유로 설명하면:**
- **websagechat** = 메인 상점 (고객이 오는 곳)
- **Conversation** = 고객 대화 기록 보관함
- **mentors** = 직원 명단 (김상무님, 법상무님 등)
- **README.md** = 상점 운영 매뉴얼

---

## ☁️ 2. GitHub (코드 저장소)

### 🔄 GitHub의 역할
```
내 컴퓨터 → GitHub → 다른 사람들도 볼 수 있음
```

**GitHub는 뭘까?**
- **코드의 구글 드라이브** 같은 곳
- 내가 만든 코드를 **안전하게 보관**
- **버전 관리** (언제 뭘 수정했는지 기록)
- **백업** (컴퓨터가 망가져도 코드는 안전)

### 📊 GitHub에서 볼 수 있는 것들
```
yongpork/sagetalk (저장소 이름)
├── 🌿 main (메인 브랜치) ← 실제 서비스용 코드
├── 🌿 clean-main (정리된 브랜치) ← 테스트용 코드
├── 📄 websagechat/ ← 내 컴퓨터와 똑같은 구조
├── 📄 Conversation/
└── 📄 모든 파일들...
```

### 🔄 내 컴퓨터 ↔ GitHub 동기화
```bash
# 내 컴퓨터 → GitHub (업로드)
git add .
git commit -m "새로운 기능 추가"
git push origin main

# GitHub → 내 컴퓨터 (다운로드)
git pull origin main
```

**쉽게 말하면:**
- **git push** = 구글 드라이브에 업로드
- **git pull** = 구글 드라이브에서 다운로드

---

## 🚀 3. Vercel (웹 호스팅 서비스)

### 🌐 Vercel의 역할
```
GitHub 코드 → Vercel → 실제 웹사이트
```

**Vercel은 뭘까?**
- **웹사이트를 실제로 동작시키는 서버**
- GitHub에 올린 코드를 **자동으로 웹사이트로 변환**
- **24시간 365일** 웹사이트가 켜져 있음
- **도메인 제공** (sagetalk.vercel.app)

### 🔄 자동 배포 과정
```
1. 내가 코드 수정 → 2. GitHub에 업로드 → 3. Vercel이 자동 감지 → 4. 웹사이트 업데이트
```

**비유로 설명하면:**
- **GitHub** = 공장 (코드 보관)
- **Vercel** = 배송업체 (웹사이트를 사용자에게 전달)
- **웹사이트** = 고객이 받는 상품

### 📊 Vercel 대시보드에서 볼 수 있는 것들
```
✅ Production Deployment (실제 서비스)
   ├── 🌐 sagetalk.vercel.app (웹사이트 주소)
   ├── 📊 Status: Ready (정상 작동)
   ├── 📈 Error Rate: 0% (오류 없음)
   └── 🔄 최신 커밋: a4dcdf7

📊 배포 통계
   ├── 👥 방문자 수
   ├── ⚡ 응답 속도
   └── 🚨 오류 발생률
```

---

## 🌐 4. 실제 웹사이트

### 🎯 웹사이트 주소
```
https://sagetalk.vercel.app
```

### 📱 사용자가 보는 화면
```
🏠 홈페이지
├── 🤖 김상무님 (AI/기술 경영)
├── 🧘‍♂️ 법상무님 (불교적 지혜)
├── 🔒 비밀대화 (멀티 멘토)
├── 📈 세상무님 (마케팅 혁신)
├── 💼 이상무님 (경영 철학)
├── 👑 세종대왕님 (리더십)
├── 🏛️ 전체회의 (모든 멘토)
└── 🧠 최상무님 (심리 상담)
```

---

## 🔄 전체 데이터 흐름

### 📊 1단계: 코드 작성 (로컬)
```javascript
// 내 컴퓨터에서 코드 작성
function handleChat(message) {
  // 채팅 기능 구현
  return response;
}
```

### 📤 2단계: GitHub 업로드
```bash
git add .
git commit -m "채팅 기능 추가"
git push origin main
```

### 🚀 3단계: Vercel 자동 배포
```
GitHub 감지 → 코드 다운로드 → 빌드 → 웹사이트 업데이트
```

### 🌐 4단계: 사용자 접속
```
사용자 → sagetalk.vercel.app 접속 → 최신 웹사이트 이용
```

---

## 🛠️ 개발자 작업 흐름

### 🔄 일반적인 작업 과정
```
1. 💻 내 컴퓨터에서 코드 수정
   ↓
2. 🧪 로컬에서 테스트 (npm run dev)
   ↓
3. ✅ 문제없으면 GitHub에 업로드 (git push)
   ↓
4. 🚀 Vercel이 자동으로 배포
   ↓
5. 🌐 웹사이트에서 확인
```

### ⚠️ 문제 발생 시
```
문제 발견 → 로컬에서 수정 → 다시 업로드 → 재배포
```

---

## 🔍 파일별 역할 상세 설명

### 📁 websagechat/ (메인 프로젝트)
```
websagechat/
├── src/app/api/          ← 백엔드 (서버 기능)
│   ├── chat/route.ts     ← AI 채팅 API
│   ├── history/route.ts  ← 대화 기록 불러오기
│   └── save-conversation/route.ts ← 대화 저장
├── src/app/chat/[roomId]/page.tsx ← 채팅방 페이지
├── src/components/       ← UI 컴포넌트 (버튼, 입력창 등)
└── package.json         ← 필요한 라이브러리 목록
```

**쉽게 말하면:**
- **API** = 주방 (음식 만드는 곳)
- **Page** = 식당 (고객이 앉는 곳)
- **Components** = 식기류 (재사용 가능한 도구들)

### 📁 Conversation/ (대화 기록)
```
Conversation/
├── 대화_김상무님:김성훈대표.md
├── 대화_법상무님:법륜스님.md
├── 대화_비밀대화.md
└── ... (각 멘토별 대화 기록)
```

**역할:**
- 사용자와 멘토들의 **대화 내용 저장**
- **마크다운 형식**으로 저장 (읽기 쉬운 텍스트)
- **파일별로 분리** (멘토별로 구분)

### 📁 mentors/ (멘토 정보)
```
mentors/
├── 김상무님:김성훈대표.md
├── 법상무님:법륜스님.md
└── ... (각 멘토의 상세 정보)
```

**역할:**
- 각 멘토의 **전문 분야와 상담 스타일** 기록
- AI가 **멘토 역할을 할 때 참고**하는 정보

---

## 🔧 환경 변수와 설정

### 🔑 API 키 관리
```
로컬 (.env.local):
OPENAI_API_KEY=sk-실제키값

Vercel (환경 변수):
OPENAI_API_KEY=sk-실제키값
```

**왜 이렇게 하나?**
- **보안**: API 키가 코드에 노출되지 않음
- **유연성**: 개발/운영 환경별로 다른 키 사용 가능

---

## 🚨 문제 발생 시 대응

### 🔧 일반적인 문제들
```
1. 코드 수정했는데 웹사이트가 안 바뀜
   → GitHub 업로드 확인 (git push)

2. GitHub 업로드 안됨
   → 대용량 파일 제거 (.gitignore 확인)

3. Vercel 배포 실패
   → TypeScript 오류 확인 (npm run build)

4. 웹사이트 접속 안됨
   → Vercel 대시보드에서 상태 확인
```

---

## 💡 핵심 정리

### 🎯 각 역할 요약
- **내 컴퓨터** = 작업실 (개발하는 곳)
- **GitHub** = 창고 (코드 보관하는 곳)
- **Vercel** = 매장 (웹사이트 운영하는 곳)
- **웹사이트** = 상품 (사용자가 보는 것)

### 🔄 데이터 흐름
```
코드 작성 → GitHub 저장 → Vercel 배포 → 사용자 이용
```

### 🛠️ 개발자 작업
```
수정 → 테스트 → 업로드 → 배포 → 확인
```

---

**💡 팁:** 
- 항상 **로컬에서 테스트** 후 업로드하세요
- **작은 단위로** 자주 업로드하세요
- **문제 발생 시** 트러블슈팅 가이드를 참고하세요

**마지막 업데이트:** 2025년 9월 21일  
**문서 버전:** 1.0
